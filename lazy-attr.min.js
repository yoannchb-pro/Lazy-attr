window.lazyDatas={updateURL:"https://cdn.jsdelivr.net/npm/lazy-attr@latest/lazy-attr.min.js"},window.lazy=(()=>{return{_data:window.lazyDatas,changeAnimation:(t,e,n=!1)=>{let i=t.getAttribute("lazy-reset");if(i=null!=i&&null!=i){let i=t.getAttribute("lazy-animation");if(i&&e){let e=t.getAttribute("lazy-animation-pointer");e?document.querySelectorAll(e).forEach(t=>{t.classList.remove(i)}):t.classList.remove(i),t.removeAttribute("lazy-animation")}t.setAttribute("lazy-animation",e),n&&(window.lazy()._data.observer.unobserve(t),window.lazy()._data.observer.observe(t))}else console.warn("Lazy-attr : Cannot change animation of not lazy-reset element !")},getLastVersion:()=>new Promise(async(t,e)=>{let n=window.lazyDatas.updateURL,i=await fetch(n).catch(t=>e({error:!0})),a=await i.text().catch(t=>e({error:!0})),o="[#version]",r=a.substring(a.indexOf(o)+o.length);t({version:r=r.substring(0,r.indexOf(o))})}),parameters:["[lazy-reset]","[lazy-animation]","[lazy-animation-time]","[lazy-animation-delay]","[lazy-src]","[lazy-video]","[lazy-embed]","[lazy-animation-pointer]","[lazy-animation-function]","[lazy-animation-count]"],animations:["zoomin","zoomout","opacity","slide-left","slide-right","slide-bottom","slide-top","corner-top-left","corner-top-right","corner-bottom-left","corner-bottom-right","shake","rotate","blur","flip","flip-up"],options:{root:null,rootMargin:"0px",threshold:0},version:"1.0.9",versionMatcher:"[#version]1.0.9[#version]"}}),window.addEventListener("load",async()=>{let t=await window.lazy().getLastVersion();if(t.error)console.error("Lazzy-attr : error while fetching to see for update !");else try{let e=t.version,n=window.lazy().version,i=e===n,a=e<n;e>n&&console.warn(`Lazzy-attr : new version ${e} available !`),i&&console.info(`Lazy-attr : you have the latest version ${n}`),a&&console.warn(`Lazzy-attr : ${n} is not a valid version !`)}catch(t){}}),window.IntersectionObserver||(window.IntersectionObserver=class{constructor(t,e){this.callback=t,this.elements=[],this.init()}init(){const t=this,e=()=>{const e=[];t.elements.forEach(n=>{let i=t.isIntersecting(n);e.push({target:n,isIntersecting:i})}),this.callback(e,t)};this.listener=e;const n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame;n?function t(){e(),n(t)}():console.error("Lazy-attr : your browser do not requestAnimationFrame")}isIntersecting(t){const e=window.innerWidth,n=window.innerHeight,i=t.getBoundingClientRect();let a=!1,o=!1,r=i.top>=0&&i.top<=n,s=i.bottom>=0&&i.bottom<=n,l=i.left>=0&&i.left<=e,c=i.right>=0&&i.right<=e;return(r||s)&&(o=!0),(l||c)&&(a=!0),!(!a||!o)}observe(t){t&&(this.elements.push(t),this.listener())}unobserve(t){if(t){let e=this.elements.indexOf(t);-1!=e&&(this.elements.splice(e,1),this.listener())}}}),window.addEventListener("load",()=>{const t=t=>console.error(`[ERROR] Lazy-attr : ${t}`);let e=(e,n)=>{e.forEach(e=>{const i=e.target;if(e.isIntersecting){const e=(t,e)=>{t.style.animationPlayState=e,t.style.webkitAnimationPlayState=e},a=(t,e)=>{let n=i.getAttribute("lazy-animation-time");n&&(t.style.animationDuration=`${n}s`,t.style.webkitAnimationDuration=`${n}s`);let a=i.getAttribute("lazy-animation-delay");a&&(t.style.animationDelay=`${a}s`,t.style.webkitAnimationDelay=`${a}s`);let o=i.getAttribute("lazy-animation-count");o&&(t.style.animationIterationCount=o,t.style.webkitAnimationIterationCount=o);let r=i.getAttribute("lazy-animation-function");r&&(t.style.animationTimingFunction=r,t.style.webkitAnimationTimingFunction=r),t.classList.add(e)},o=[];let r=i.getAttribute("lazy-animation"),s=i.getAttribute("lazy-animation-pointer");if(s&&r){document.querySelectorAll(s).forEach(t=>{a(t,r),e(t,"paused"),o.push(t)})}else r&&(a(i,r),e(i,"paused"),o.push(i));const l=()=>{o.forEach(t=>{e(t,"running")}),null===i.getAttribute("lazy-reset")&&i.removeAttribute("lazy-animation")};let c=i.complete&&0!==i.naturalHeight,d=i.readyState>=0;c||d||!i.getAttribute("lazy-src")?l():(i.addEventListener("error",()=>{l(),t("cannot load url "+i.src)}),i.addEventListener("load",l));let y=i.getAttribute("lazy-video");y&&i.setAttribute("poster",y),i.preload="none";let m=i.getAttribute("lazy-embed");if(m){let t=i.getAttribute("lazy-poster");t=t?`url('${t}')`:"#000",i.setAttribute("srcdoc",`<style>body{background: ${t}; background-position: center; background-size: cover;}*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href='${m}'><span>â–¶</span></a>`)}let u=i.getAttribute("lazy-src");u&&(i.src=u),i.removeAttribute("lazy-embed"),i.removeAttribute("lazy-poster"),i.removeAttribute("lazy-video"),i.removeAttribute("lazy-animation-time"),i.removeAttribute("lazy-src"),null===i.getAttribute("lazy-reset")&&n.unobserve(i)}else if(null!=i.getAttribute("lazy-reset")){const t=(t,e=!1)=>{e&&t.classList.remove(e)};let e=i.getAttribute("lazy-animation"),n=i.getAttribute("lazy-animation-pointer");if(n&&e){document.querySelectorAll(n).forEach(n=>{t(n,e)})}else t(i,e)}})};if(window.IntersectionObserver&&window.lazy()&&window.lazyDatas){let t=new IntersectionObserver(e,window.lazy().options);window.lazyDatas.observer=t;const n=()=>{document.body.querySelectorAll(window.lazy().parameters.join(",")).forEach(e=>{t.observe(e)})};document.addEventListener("DOMNodeInserted",n),document.addEventListener("change",n),n(),(t=>console.info(`[INFO] Lazy-attr : ${t}`))("version "+window.lazy().version)}else t("incompatible or verify window.lazy and window.lazyDatas integration")});