<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="./assets/favicon.ico" />

    <meta name="title" content="Lazy-attr || Lazy page and Animations">
    <meta name="description" content="Create beautiful animation on lazy (or not) elements. Make a lazy page (video, iframe and image) just with attributes.">
    <meta name="keywords" content="html, js, css, animation, lazy, image, lazy-attr, embed, video, free, easy, attributes, iframe">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="English">
    <meta name="author" content="yoannchb">

    <title>Lazy-attr || Lazy page and Animations</title>

    <!-- LIB css + js-->
    <script src="./lib/lazy-attr.min.js"></script>
    <link href="./lib/lazy-attr-animation.min.css" rel="stylesheet"/>


    <link href="./css/main.css" rel="stylesheet"/>
</head>
<body>
    <header>
        <a href="https://github.com/yoannchb-pro/Lazy-attr" style="text-decoration: none;">
            <h1 lazy-animation="slide-left-animation" id="title">❤️&nbsp;Lazy-attr.js</h1>
        </a>
    </header>
    
    <section>
        <!-- CODE -->
        <div class="row">
            <div class="col-code html-block">
                <p style="color: whitesmoke">
                      Create a beautiful webpage with <b>lazy</b> image, embed, video ... Moreover, use or create beautiful <b>animations</b> on lazy and not lazy elements.
                      All of that in one lib and only with <b>html attributes</b> !
                </p>
                <p>
                    <span id="code-script" class="html-line"></span>
                    <span id="code-link" class="html-line"></span>
                </p>
                <p id="attr-script" style="color: #999999"></p>
            </div>
        </div>

        <!-- Image lazy without reset -->
        <div class="row b1" id="pointer">
            <div class="col">
                <p>
                    Example of an image which this lazy load and which when scrolling launches the animation even after having
                    already performed once the animation. Just add these attributes in your img. This image will make an animation on his parent
                    by selecting him with the attribute "lazy-animation-pointer".
                    <code>lazy-src="https://picsum.photos/300/300?random=1" lazy-animation="zoomin-animation" lazy-animation-pointer="#pointer" lazy-reset</code>
                </p>
            </div>
            <div class="col">
                <img alt="Random image" lazy-src="https://picsum.photos/300/300?random=1" lazy-animation="zoomin-animation" lazy-animation-pointer="#pointer" lazy-reset>
            </div>
        </div>
        <hr>
        <!-- Image lazy one time animation -->
        <div class="row">
            <div class="col">
                <img alt="Random image" lazy-animation-function="linear" lazy-animation-count="infinite" 
                lazy-src="https://picsum.photos/300/300?random=2" lazy-animation="rotate-animation" lazy-animation-time="3">
            </div>
            <div class="col">
                <p>
                    Example of an image which this lazy load and which when scrolling launches the animation but only once.
                    Then it is no longer taken into account. The animation is infinite in linear mode here.
                    <code>lazy-animation-function="linear" lazy-animation-count="infinite" lazy-src="https://picsum.photos/300/300?random=2" lazy-animation="rotate-animation" lazy-animation-time="3"</code>
                </p>
            </div>
        </div>
        <hr>
        <!-- Image lazy one time animation -->
        <div class="row b1">
            <div class="col">
                <p>
                    Example of an image which this lazy load and which during scrolling several times.
                    Then it is no longer taken into account.
                    <code>lazy-src="https://picsum.photos/300/300?random=3" lazy-animation="opacity-animation" lazy-reset</code>
                </p>
            </div>
            <div class="col">
                <img class="noopacity" alt="Random image" lazy-reset lazy-src="https://picsum.photos/300/300?random=3" 
                lazy-animation="opacity-animation" lazy-reset>
            </div>
        </div>
        <hr>
        <!-- Embed lazy -->
        <div class="row">
            <div class="col">
                <iframe width="560" height="315" lazy-embed="https://www.youtube.com/embed/Y8Wp3dafaMQ?autoplay=0" 
                lazy-animation="shake-animation"></iframe>
            </div>
            <div class="col">
                <p>
                    Example of an embed video which launches during the click and which executes an animation during the scroll.
                    <code>lazy-embed="https://www.youtube.com/embed/Y8Wp3dafaMQ?autoplay=0" lazy-animation="shake-animation"</code>
                </p>
            </div>
        </div>
        <hr>
        <!-- Embed lazy with poster -->
        <div class="row b1">
            <div class="col">
                <p>
                    Example of an image which this lazy load and which during scrolling several times.
                    Then it is no longer taken into account. This time, if the animation does not launch with a class but a style.
                    <code>lazy-reset lazy-animation="from-right-animation" 
                        lazy-embed="https://www.youtube.com/embed/Y8Wp3dafaMQ?autoplay=0"
                        lazy-poster="https://img.youtube.com/vi/Y8Wp3dafaMQ/hqdefault.jpg"</code>
                </p>
            </div>
            <div class="col">
                <iframe width="560" height="315" lazy-reset lazy-animation="slide-right-animation" 
                lazy-embed="https://www.youtube.com/embed/Y8Wp3dafaMQ?autoplay=0" 
                lazy-poster="https://img.youtube.com/vi/Y8Wp3dafaMQ/hqdefault.jpg"></iframe>
            </div>
        </div>
        <hr>
        <!-- Lazy video -->
        <div class="row" id="video-block">
            <div class="col">
                <video controls lazy-video="https://picsum.photos/560/315?random=10" lazy-src="./assets/flower.mp4" 
                lazy-animation="flip-animation" lazy-animation-pointer="#video-block" type="video/mp4"></video>
            </div>
            <div class="col">
                <p>
                    Example of a video in lazy mode without preload and a poster. Lazy-video make the video in not preload mode and put a poster.
                    <code>lazy-video="https://picsum.photos/560/315?random=10" lazy-src="./assets/flower.mp4"</code>
                </p>
            </div>
        </div>
        <hr>
        <!-- Lazy animation delay -->
        <div class="row b1">
            <div class="col">
                <p>
                    Allows you to perform an animation with a gap delay between each frame here in the example below.
                    <code>lazy-animation-delay="time in seconde"</code>
                </p>
            </div>
        </div>
        <div class="row image-list">
            <div class="col-delay">
                <img alt="Random image" lazy-src="https://picsum.photos/300/300?random=4" lazy-animation="zoomin-animation" lazy-reset/>
                <img lazy-animation-delay="0.3" alt="Random image" lazy-src="https://picsum.photos/300/300?random=5" 
                lazy-animation="zoomin-animation" lazy-reset/>
                <img lazy-animation-delay="0.6" alt="Random image" lazy-src="https://picsum.photos/300/300?random=6" 
                lazy-animation="zoomin-animation" lazy-reset/>
                <img lazy-animation-delay="0.9" alt="Random image" lazy-src="https://picsum.photos/300/300?random=7"
                 lazy-animation="zoomin-animation" lazy-reset/>
                <img lazy-animation-delay="1.2" alt="Random image" lazy-src="https://picsum.photos/300/300?random=8"
                 lazy-animation="zoomin-animation" lazy-reset/>
            </div>
        </div>
        <hr>
        <!-- Test lazy list -->
        <div class="row">
            <div class="col-hoz">
                <img alt="Random image" lazy-src="https://picsum.photos/300/300?random=4" 
                lazy-animation="opacity-animation"/>
                <img lazy-animation-delay="0.3" alt="Random image" lazy-src="https://picsum.photos/300/300?random=5" 
                lazy-animation="opacity-animation"/>
                <img lazy-animation-delay="0.6" alt="Random image" lazy-src="https://picsum.photos/300/300?random=6" 
                lazy-animation="opacity-animation"/>
                <img lazy-animation-delay="0.9" alt="Random image" lazy-src="https://picsum.photos/300/300?random=7"
                 lazy-animation="opacity-animation"/>
                <img lazy-animation-delay="1.2" alt="Random image" lazy-src="https://picsum.photos/300/300?random=8"
                 lazy-animation="opacity-animation"/>
                 <img lazy-animation-delay="0.6" alt="Random image" lazy-src="https://picsum.photos/300/300?random=6" 
                 lazy-animation="opacity-animation"/>
                 <img lazy-animation-delay="0.9" alt="Random image" lazy-src="https://picsum.photos/300/300?random=7"
                  lazy-animation="opacity-animation"/>
                 <img lazy-animation-delay="1.2" alt="Random image" lazy-src="https://picsum.photos/300/300?random=8"
                  lazy-animation="opacity-animation"/>
                  <img lazy-animation-delay="0.3" alt="Random image" lazy-src="https://picsum.photos/300/300?random=5" 
                  lazy-animation="opacity-animation"/>
                  <img lazy-animation-delay="0.6" alt="Random image" lazy-src="https://picsum.photos/300/300?random=6" 
                  lazy-animation="opacity-animation"/>
                  <img lazy-animation-delay="0.9" alt="Random image" lazy-src="https://picsum.photos/300/300?random=7"
                   lazy-animation="opacity-animation"/>
            </div>
        </div>
        <hr>
        <!-- Animation examples -->
        <div class="row">
            <div class="col">
                <div class="card">
                    <img id="toanimate" lazy-reset lazy-src="https://picsum.photos/300/200?random=9" 
                    lazy-animation="corner-top-right-animation" lazy-animation-pointer=".card">
                    <div class="card-content">
                        <p>Card</p>
                    </div>
                </div>
                <!--
                    <img style="border: thin solid #000;" id="toanimate" lazy-animation-delay="0.3" alt="Random image" lazy-src="https://picsum.photos/300/300?random=9" lazy-animation="zoomin-animation"/>
                -->
            </div>
            <div class="col">
                <p>
                    You will find below the list of events. You can create your own animation just by 
                    replacing with a css class with an animation attribute. To add an animation just do:
                    <code id="code-animation">lazy-animation="{animation name}-animation"</code>
                    <select id="animation-select">
                        <option value="">--Choose animation--</option>
                    </select>
                </p>
            </div>
        </div>

        <footer class="b1">
            <p lazy-animation="slide-bottom-animation">By yoannchb &#169;</p>
        </footer>
    </section>
</body>
<!-- CODE -->
<script>
    let v = window.lazy().version;
    document.querySelector('#title').innerHTML += "v " + v;

    function toCodeHtml(t){
        return t.replace(/\</gi, "&lt;")
         .replace(/\>/gi, "&gt;")
         .replace(/\[str\]/gi, "<span class='html-str'>")
         .replace(/\[end-str\]/gi, "</span>")
         .replace(/\[attr\]/gi, "<span class='html-attr'>")
         .replace(/\[end-attr\]/gi, "</span>")
         .split('[separate]');
    }

    document.querySelector('#code-script').innerHTML = toCodeHtml('<script [attr]src[end-attr]=[str]"https://unpkg.com/lazy-attr@' + v + '/lib/lazy-attr.min.js"[end-str] [attr]type[end-attr]=[str]"text/javascript"[end-str]>');
    document.querySelector('#code-link').innerHTML = toCodeHtml('<link [attr]src[end-attr]=[str]"https://unpkg.com/lazy-attr@' + v + '/lib/lazy-attr-animation.min.css"[end-str] [attr]rel[end-attr]=[str]"stylesheet"[end-str]/>');;

    document.querySelector('#attr-script').innerHTML = "<u>Attribute(s):</u> " + window.lazy().parameters.join(", ");
    document.querySelector('#attr-script').innerHTML += "<span style='display: block'><u>Variable(s):</u> window.lazy()</span>";
</script>
<!-- ANIMATION LIST -->
<script>
    const image = document.querySelector("#toanimate");
    const select = document.querySelector("#animation-select");
    const code = document.querySelector("#code-animation");

    const animationList = window.lazy().animations;
    animationList.forEach(function(e){
        let c = e+"-animation";
        select.innerHTML += "<option value='" + c + "'>" + e + "</option>";
    });

    select.onchange = function(){
        let v = select.value;
        code.innerHTML = 'lazy-animation="' + v + '"';
        window.lazy().changeAnimation(image, v, true);
    }
</script>
</html>