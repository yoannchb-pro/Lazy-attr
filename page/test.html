<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="../assets/favicon.ico" />

    <meta name="title" content="Lazy-attr || Lazy page and Animations">
    <meta name="description" content="Create beautiful animation on lazy (or not) element. Make a lazy page (video, iframe and image) just with attributes.">
    <meta name="keywords" content="html, js, css, animation, lazy, image, lazy-attr, embed, video, free, easy, attributes, iframe">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="English">
    <meta name="author" content="yoannchb">

    <title>Lazy-attr || Lazy page and Animations</title>

    <!-- LIB css + js-->
    <script src="../lazy-attr.js"></script>
    <link href="../lazy-attr-animation.min.css" rel="stylesheet"/>

    <link href="../css/main.css" rel="stylesheet"/>
</head>
<body>
    <header>
        <a href="https://github.com/yoannchb-pro/Lazy-attr" style="text-decoration: none;">
            <h1 lazy-animation="slide-left-animation" id="title">❤️&nbsp;Lazy-attr.js</h1>
        </a>
    </header>
    
    <section>
        <!-- CODE -->
        <div class="row">
            <div class="col-code html-block">
                <p style="color: whitesmoke">
                      Create a beautiful webpage with <b>lazy</b> image, embed, video ... Moreover, make beautiful <b>animations</b> on lazy and not lazy element.
                      All of that in one lib and only with <b>attributes</b> on dom elements !
                </p>
                <p>
                    <span id="code-script" class="html-line"></span>
                    <span id="code-link" class="html-line"></span>
                </p>
                <p id="attr-script" style="color: #999999"></p>
            </div>
        </div>

        <!-- Test box -->
        <div class="row">
            <div class="col">
                <div class="card">
                    <img id="toupdate" lazy-animation-count="infinite" lazy-reset lazy-src="https://picsum.photos/300/200?random=9" 
                    lazy-animation="opacity-animation" lazy-animation-pointer=".card">
                    <div class="card-content">
                        <p>Card</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Test options -->
        <div class="row b1">
            <div class="col-test" id="generate"></div>
        </div>
        <div class="row center">
            <button class="update-btn">Update</button>
        </div>
    </section>
</body>
<!-- GENERATE OPTION-->
<script>
    const d = document.querySelector('#generate');
    const uimg = document.querySelector('#toupdate');

    var i = 0;
    window.lazy().parameters.forEach(p => {
        ++i;
        d.innerHTML += `
        <label style="grid-row: ${i}; grid-column: 1; -ms-grid-column: 1; -ms-grid-row: ${i};">${p}</label>
        <input data-attr="${p}" style="grid-row: ${i}; grid-column: 2; -ms-grid-column: 2; -ms-grid-row: ${i};" type="test" placeholder="Value..."></input>
        `;
    });

    document.querySelector('.update-btn').onclick = () => {
        let l = document.querySelectorAll('input');
        l.forEach(e => {
            let a = e.getAttribute('data-attr').replace(/\[/gi, "").replace(/\]/gi, "");
            if(a === "lazy-aniamtion") {
                window.lazy().changeAnimation(uimg, e.value);
            } else {
                uimg.setAttribute(a, e.value);
            }
        });
    }
</script>
<!-- CODE -->
<script>
    let v = window.lazy().version;
    document.querySelector('#title').innerHTML += ` v${v}`;

    function toCodeHtml(t){
        return t.replace(/\</gi, "&lt;")
         .replace(/\>/gi, "&gt;")
         .replace(/\[str\]/gi, `<span class='html-str'>`)
         .replace(/\[end-str\]/gi, "</span>")
         .replace(/\[attr\]/gi, `<span class='html-attr'>`)
         .replace(/\[end-attr\]/gi, "</span>")
         .split('[separate]');
    }

    document.querySelector('#code-script').innerHTML = toCodeHtml(`<script [attr]src[end-attr]=[str]"https://cdn.jsdelivr.net/gh/yoannchb-pro/lazy-attr@latest/lazy-attr.min.js"[end-str] [attr]type[end-attr]=[str]"text/javascript"[end-str]>`);
    document.querySelector('#code-link').innerHTML = toCodeHtml(`<link [attr]src[end-attr]=[str]"https://cdn.jsdelivr.net/gh/yoannchb-pro/lazy-attr@latest/lazy-attr-animation.min.css"[end-str]/>`);;

    document.querySelector('#attr-script').innerHTML = "<u>Attribute(s):</u> " + window.lazy().parameters.join(", ");
    document.querySelector('#attr-script').innerHTML += "<span style='display: block'><u>Variable(s):</u> window.lazy()</span>";
</script>
</html>